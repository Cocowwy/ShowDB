# ğŸ“–ShowDB
[![License](https://img.shields.io/badge/license-Apache%202-4EB1BA.svg)](https://www.apache.org/licenses/LICENSE-2.0.html)
[![JDK](https://img.shields.io/badge/JDK-1.8+-green.svg)](https://www.oracle.com/java/technologies/downloads)
[![Stars](https://img.shields.io/github/stars/Cocowwy/ShowDB.svg?style=social)](https://github.com/Cocowwy/ShowDB)


## ğŸ°ç®€ä»‹
:zap: æ‹†ç®±å³ç”¨çš„æ•°æ®åº“æ–‡æ¡£å·¥å…·ï¼Œè‡ªåŠ¨å°†SpringBooté¡¹ç›®ä¸­çš„æ‰€æœ‰æ•°æ®æºæ–‡æ¡£å¯è§†åŒ–ï¼ŒåŒæ—¶ç›‘æ§æ•°æ®åº“ç›¸å…³çš„ä¿¡æ¯ï¼Œå¦‚ä¸»ä»çŠ¶æ€ï¼Œé…ç½®ç­‰  
:zap: ä½ å¯ä»¥å°†å…¶ç›´æ¥å¼•å…¥ä½ çš„SpringBootå·¥ç¨‹ï¼Œæ¥ç›´æ¥å±•ç¤ºå½“å‰é¡¹ç›®çš„æ•°æ®æºï¼Œä¹Ÿå¯ä»¥å‚è€ƒ [showdb-test](https://github.com/Cocowwy/ShowDB/tree/v1-dev/showdb-test) å·¥ç¨‹ï¼Œå¯¹æ‰€æœ‰éœ€è¦å±•ç¤ºçš„æ•°æ®æºè¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œå½¢æˆä¸€ä¸ªå…¬å¸å†…éƒ¨çš„ç»Ÿä¸€çš„æ–‡æ¡£

## ğŸºä¸ºå•¥å¼€å‘è¿™ä¸ªï¼Ÿ
- åœ¨ä½¿ç”¨ **screw** çš„æ—¶å€™ï¼Œéœ€è¦é…ç½®æ•°æ®æºçš„è¿æ¥ä¿¡æ¯ï¼Œç„¶åæ‰ä¼šç”Ÿæˆä¸€ä¸ªåŸºäºå½“å‰æ•°æ®æºçš„è¡¨ç»“æ„æ–‡æ¡£ğŸ¤ª

- ä½†æ˜¯è¿™ä¸ªæ–‡æ¡£å®ƒæ˜¯ä¸å¯å˜çš„ï¼Œä¸”æ¯æ¬¡æ•°æ®åº“ä¿®æ”¹äº†è¡¨ç»“æ„ï¼Œè¿™ä¸ªæ–‡æ¡£å°±å¾—é‡æ–°ç”Ÿæˆï¼Œä½•å†µï¼Œå¦‚æœæ˜¯å¤šæ•°æ®æºï¼Œéš¾é“å°±éœ€è¦ç”Ÿæˆå¤šä¸ªæ–‡æ¡£å˜›ğŸ’ï¼Œé‚£ä¹ˆè¿™å°±**å¤ªéº»çƒ¦äº†**ï¼Œåœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè¿­ä»£å¿«çš„æƒ…å†µä¸‹å¾€å¾€å°±éœ€è¦ç»å¸¸é‡æ–°ç”Ÿæˆæ–‡æ¡£ï¼Œè¿™å¯¹äºæ‡’äººæ¥è¯´æ˜¯ä»¶å¾ˆéº»çƒ¦çš„äº‹æƒ…

- é‚£ä¹ˆå’±å°±å¤§æ¼ç‰¹æ¼ğŸ˜µï¼Œç°å¦‚ä»Šå¾®æœåŠ¡åŸºæœ¬éƒ½ä¼šè¿æ¥ä¸Šæ•°æ®æºğŸï¼Œæ‰€ä»¥å¦‚æœèƒ½å¤Ÿå¯¹**SpringBooté¡¹ç›®ä¸­å·²ç»å­˜åœ¨çš„æ•°æ®æº/å¤šæ•°æ®æºï¼Œè‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ï¼Œé‚£ä¹ˆä¼šæ›´è¿åˆJavaer/Springerçš„ä½¿ç”¨ä¹ æƒ¯ï¼Œå°±åƒswaggerä¸€æ ·ï¼Œæ‹†ç®±å³ç”¨ï¼Œä¸”æ”¯æŒç”¨æˆ·çš„ä¸€äº›ä¸ªæ€§åŒ–çš„è‡ªå®šä¹‰é…ç½®ğŸ ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å¯¹æ•°æ®æºè¿›è¡Œä¸€äº›ä¿¡æ¯çš„ç›‘æ§ï¼Œå¦‚æ¯”è¾ƒå…³å¿ƒçš„ä¸»ä»çŠ¶æ€ï¼Œå®¢æˆ·ç«¯è¿æ¥ï¼Œä¸€äº›æ•°æ®åº“çš„é…ç½®ä¿¡æ¯ç­‰ç­‰ï¼Œè¿™äº›ä¹Ÿéƒ½èƒ½é›†æˆè¿›æ¥ï¼Œä½¿å…¶æ›´ç¬¦åˆShowDBçš„åå­—** ğŸ¥

## âœ‹Features
- 1 **æ‹†ç®±å³ç”¨**ï¼Œå¼•å…¥pomæ–‡ä»¶ï¼Œå³å¯ä½¿ç”¨
- 2 **UIç•Œé¢ä¸°å¯Œ**
- 3 **æ–‡æ¡£å¯è§†åŒ–**ï¼Œèƒ½å¯¹æ•°æ®åº“è¡¨ç»“æ„ä¸€è§ˆæ— ä½™ï¼Œæ”¯æŒæ¨¡ç³Šæœç´¢
- 4 **æ”¯æŒå¤šæ•°æ®æº**ï¼Œè‡ªåŠ¨å¯¹ç¯å¢ƒä¸­å­˜åœ¨çš„æ•°æ®æºè¿›è¡Œç›‘æ§ä¸æ–‡æ¡£åŒ–
- 5 æ”¯æŒ**æ•°æ®åº“è¡¨ç»“æ„SQLè¿ç§»ï¼Œæ•°æ®åº“è¡¨ç»“æ„æ–‡æ¡£ä¸‹è½½**
- 6 æ”¯æŒæ•°æ®åº“**ä¸»ä»ä¿¡æ¯å®æ—¶ç›‘æ§ï¼Œæ•°æ®åº“é…ç½®ä¿¡æ¯æŸ¥è¯¢ï¼Œæ•°æ®åº“è¿æ¥ä¿¡æ¯å±•ç¤º**
- 7 æ”¯æŒè¡¨**è¯¦ç»†ä¿¡æ¯æŸ¥è¯¢ï¼ˆå¦‚æ•°æ®é‡å¤§å°ï¼Œç´¢å¼•å¤§å°ï¼Œå­˜å‚¨å¼•æ“ç­‰ï¼‰ï¼Œè¡¨çš„å»ºè¡¨SQLï¼ŒJavaå®ä½“ç±»ä»£ç ç”Ÿæˆ**ç­‰

## ğŸ§°å¦‚ä½•ä½¿ç”¨ï¼Ÿï¼Ÿ
- åœ¨SpringBooté¡¹ç›®çš„pom.xmlæ–‡ä»¶ä¸­å¼•å…¥ä¾èµ–

**ç¨³å®šç‰ˆâ˜•** [åœ°å€æˆ³è¿™å„¿](https://search.maven.org/artifact/cn.cocowwy/showdb-spring-boot-starter)
```xml
<dependency>
    <groupId>cn.cocowwy</groupId>
    <artifactId>showdb-spring-boot-starter</artifactId>
    <version>1.0.0</version>
</dependency>
```
**å¦‚æœè¦é£Ÿç”¨æœ€æ–°çš„å¿«ç…§ç‰ˆæœ¬ï¼ˆè¿˜åœ¨æµ‹è¯•ä½¿ç”¨çš„åŠŸèƒ½ï¼‰ï¼Œä½¿ç”¨å¦‚ä¸‹ä¾èµ–ğŸ”**  
**æ³¨æ„ï¼Œå¿«ç…§ç‰ˆçš„ä½¿ç”¨ï¼Œéœ€è¦å¸¦ä¸Šä¸‹é¢çš„å‚æ•°ï¼Œå› ä¸ºé»˜è®¤æ˜¯ä¸ä¼šèµ° snapshots çš„**
```xml
<dependency>
    <groupId>cn.cocowwy</groupId>
    <artifactId>showdb-spring-boot-starter</artifactId>
    <version>1.0.1-SNAPSHOT</version>
</dependency>
<repositories>
    <repository>
        <id>showdb-snapshots</id>
        <url>https://s01.oss.sonatype.org/content/repositories/snapshots/</url>
        <snapshots>
            <enabled>true</enabled>
        </snapshots>
    </repository>
</repositories>
``` 
å½“å‰å¿«ç…§ç‰ˆè¾ƒç¨³å®šç‰ˆæ–°å¢åŠŸèƒ½ï¼š
- è‡ªå®šä¹‰ç¼“å­˜æ¸…ç†æ—¶é•¿
- éƒ¨åˆ†JSä»£ç ç”±CDNè¿ç§»è‡³å†…éƒ¨ä»£ç ï¼Œä»¥æä¾›ç¨³å®šçš„å‰ç«¯è„šæœ¬
- ä¿®å¤äº†ä¸€äº›å·²çŸ¥é—®é¢˜
- æ–°å¢äº‹åŠ¡æŸ¥è¯¢

**ymlé…ç½®ğŸ”§**
```yml
showdb:
  enable: true
  endpoint: '*'  
```

- é¡¹ç›®ä¸­å·²ç»é…ç½®å¥½å•æ•°æ®æºï¼ˆå¤šæ•°æ®æºçœ‹ä¸‹é¢çš„ä¾‹å­ï¼‰
- æµè§ˆå™¨ä¸­è®¿é—®è¯¥è·¯å¾„ï¼š```/db```ï¼Œå³å¯è‡ªåŠ¨ç”Ÿæˆå½“å‰é¡¹ç›®é‡Œçš„æ‰€æœ‰æ•°æ®æºæ–‡æ¡£é¡µé¢

**å¦‚æœæ˜¯å¤šæ•°æ®æºå¦‚ä½•æ¥å…¥ï¼Ÿ**
- å¦‚ä½•é…ç½®å‘¢ï¼Œå¯ä»¥å‚è€ƒ ```showdb-test``` è¿™ä¸ªmoudleï¼Œæˆ–è€…å‚è€ƒä¸‹é¢è¿™å—ä»£ç ï¼ˆè¿™æ˜¯æœ¬äººçš„ä¾‹å­ï¼Œå¤šæ•°æ®æºçš„æ³¨å…¥å¹¶ä¸ä¸€å®šè¿™ä¹ˆå†™ï¼Œç¯å¢ƒé‡Œåªè¦å­˜åœ¨å¤šæ•°æ®æºï¼Œå°±ä¼šè‡ªåŠ¨ç»™ä½ é…ç½®å¥½ï¼‰

**yml**
```yml
spring:
  application:
    name: ShowDB-TEST
  datasource:
    cms:
      type: com.alibaba.druid.pool.DruidDataSource
      driverClassName: com.mysql.cj.jdbc.Driver
      url: jdbc:mysql://IP:3306/cms?&useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=Asia/Shanghai
      username: 
      password: 
    oms:
      type: com.alibaba.druid.pool.DruidDataSource
      driverClassName: com.mysql.cj.jdbc.Driver
      url: jdbc:mysql://IP:3306/oms?&useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=Asia/Shanghai
      username: 
      password: 
    pms:
      type: com.alibaba.druid.pool.DruidDataSource
      driverClassName: com.mysql.cj.jdbc.Driver
      url: jdbc:mysql://IP:3306/pms?&useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=Asia/Shanghai
      username: 
      password: 
``` 

**æ•°æ®æºæ³¨å…¥**
```java
    /**
 * æ•°æ®æº1é…ç½®
 */
@Bean(name = "cms", destroyMethod = "close", initMethod = "init")
@ConfigurationProperties(prefix = "spring.datasource.cms")
@Primary
public DruidDataSource createDataSource1() {
        return DruidDataSourceBuilder.create().build();
        }

/**
 * æ•°æ®æº2é…ç½®
 */
@Bean(name = "oms", destroyMethod = "close", initMethod = "init")
@ConfigurationProperties(prefix = "spring.datasource.oms")
public DruidDataSource createDataSource2() {
        return DruidDataSourceBuilder.create().build();
        }

/**
 * æ•°æ®æº3é…ç½®
 */
@Bean(name = "pms", destroyMethod = "close", initMethod = "init")
@ConfigurationProperties(prefix = "spring.datasource.pms")
public DruidDataSource createDataSource3() {
        return DruidDataSourceBuilder.create().build();
        }
```
![73849dd9319e33d555677d1acf6745f](https://user-images.githubusercontent.com/63331147/161917411-9808b386-590d-409a-b2dd-196f27f40ff6.jpg)
- **ä¸Šå›¾çš„Demoä¸­ï¼Œè¯¥é¡¹ç›®å­˜åœ¨ä¸‰ä¸ªæ•°æ®æºï¼ŒåŒæ—¶å…¶ä¸­ä¸€ä¸ªæ•°æ®æºå¼€å¯äº†ä¸»ä»ï¼ŒShowDBå¯¹å½“å‰é¡¹ç›®ä¸­æ‰€æœ‰çš„æ•°æ®æºè¿›è¡Œäº†ç»Ÿä¸€çš„æ–‡æ¡£ç®¡ç†ï¼Œä»¥åŠæ•°æ®æºä¿¡æ¯ç›‘æ§**
- **psï¼šå¦‚æœéœ€è¦ä¸€ä»½å¤šä¸šåŠ¡åº“çš„ç»¼åˆçš„æ–‡æ¡£ï¼Œä½ å¯ä»¥å•ç‹¬å¯åŠ¨ä¸€ä¸ªSpringBooté¡¹ç›®ï¼Œç„¶åå°†æ‰€æœ‰çš„ä¸šåŠ¡åº“éƒ½æ³¨å…¥è¿›è¿™ä¸ªæœåŠ¡ï¼Œè¿™æ ·èƒ½å½“åšä¸€ä¸ªå”¯ä¸€çš„å…¥å£æ¥åšç»Ÿä¸€çš„ä¸šåŠ¡æ•°æ®åº“æ–‡æ¡£**

## ğŸ·ï¸ç‰ˆæœ¬é€‰æ‹©
|  ç¯å¢ƒ   | ç‰ˆæœ¬å·  |
|  ----  | ----  |
| JDK | 1.8+ |
| SpringBoot | 2.3.9.RELEASE+ |


## ğŸ”§**endpointå¯é€‰å€¼å¦‚ä¸‹ï¼š**
|  endpoint   | è¯´æ˜  |
|  ----  | ----  |
| * | æ‰€æœ‰ |
| monitor-master-slave  | ä¸»ä»ä¿¡æ¯ç›‘æ§ |
| monitor-ip-connection  | IPè¿æ¥ç›‘æ§ |

## ğŸ“„**å½“å‰æ”¯æŒæ•°æ®æºå¦‚ä¸‹ï¼š**
|  æ•°æ®æº   | æ˜¯å¦æ”¯æŒ  |
|  ----  | ----  |
| MySQL | æ”¯æŒ |

## ğŸ“¦**åŒ…æ¨¡å—è¯´æ˜ï¼š**
|  åŒ…å   | è¯´æ˜  |
|  ----  | ----  |
| showdb-core | SQLæ ¸å¿ƒæ‰§è¡Œé€»è¾‘ï¼Œå†…éƒ¨ç¼“å­˜ç­‰ |
| showdb-spring-boot-autoconfigure | ShowDBçš„è‡ªåŠ¨é…ç½® |
| showdb-spring-boot-starter | å¼•å…¥starter |
| showdb-test | æµ‹è¯•æ¨¡å—ï¼Œå†…å«å¤šæ•°æ®æºdemoï¼Œæµ‹è¯•sqlç­‰ï¼Œquickstart æˆ³è¿™å„¿ |
| showdb-web | webæ¨¡å—ï¼Œè§†å›¾å’Œä¸šåŠ¡å¤„ç† |

## å¾…å¼€å‘çš„åŠŸèƒ½..
- å¢åŠ å¯¹äºæ•°æ®åº“æ›´å¤šæ¯”è¾ƒéœ€è¦å…³å¿ƒçš„å‚æ•°è¿›è¡Œå¯è§†åŒ–
- å¢åŠ å¯¹äºMySQLæ•°æ®åº“é•¿äº‹åŠ¡ä¿¡æ¯æŸ¥è¯¢
- æ•æ„Ÿè§¦ç‚¹åšé¢„è­¦é€šçŸ¥
- é€‚é…å¤šç§ä¸åŒç±»å‹çš„æ•°æ®åº“
- UIç•Œé¢çš„æ›´åŠ ç¾è§‚ï¼ˆè¿™ä¹Ÿæ˜¯æœ€éš¾çš„ï¼‰

## ğŸ•END
æ¬¢è¿æ issue å’Œ pr ~

## ğŸ¥–**åˆ†æ”¯è¯´æ˜ï¼š**
|  åŒ…å   | è¯´æ˜  |
|  ----  | ----  |
| master | å½“å‰ç¨³å®šç‰ˆåˆ†æ”¯ |
| RELEASE-X | Xä¸ºç¨³å®šç‰ˆçš„ç‰ˆæœ¬å· |
| v1-dev | v1ç‰ˆæœ¬å¼€å‘åˆ†æ”¯ï¼Œæ¥å—PR |

